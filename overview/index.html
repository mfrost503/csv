<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="icon" type="image/x-icon" href="/themes/thephpleague/thephpleague.github.com/img/favicon.ico" />
                <link rel="apple-touch-icon-precomposed" href="/themes/thephpleague/thephpleague.github.com/img/apple-touch-icon-precomposed.png">
                <title>Loading - CSV</title>
                <meta name="description" content="Working with CSV can often be much more difficult than you expect, with different types of delimiter and complicated structures. This makes it easy to read and write almost anything.">
                <link rel="stylesheet" href="/themes/thephpleague/thephpleague.github.com/css/all.css">
    </head>
<body>

<section class="all_packages">
    <a href="http://thephpleague.com/">
        <img src="/themes/thephpleague/thephpleague.github.com/img/loep_logo.png" width="195" height="200" alt="The League of Extraordinary Packages">
    </a>
    <h2>Our Packages:</h2>
    <ul>
    </ul>
</section>

<header>
    <a class="logo" href="/">
                <span class="name">CSV</span>
        <span class="tagline">CSV data manipulation made easy in PHP.</span>
    </a>
    <a href="http://thephpleague.com/" class="league">
        Presented by The League of Extraordinary Packages
    </a>
</header>

<input type="checkbox" id="menu">
<label for="menu" onclick>
    <div class="closed">&#9776; Menu</div>
    <div class="open">&#9776; Hide Menu</div>
</label>

<main>
    <menu>
                    <h2>Getting Started</h2>
            <ul>
                                    <li >
                        <a href="/">Introduction</a>
                    </li>
                                    <li >
                        <a href="/examples/">Examples</a>
                    </li>
                                    <li >
                        <a href="/installation/">Installation</a>
                    </li>
                            </ul>
                    <h2>The API</h2>
            <ul>
                                    <li class="selected">
                        <a href="/overview/">Overview</a>
                    </li>
                                    <li >
                        <a href="/outputting/">Outputting</a>
                    </li>
                                    <li >
                        <a href="/reading/">Extracting</a>
                    </li>
                                    <li >
                        <a href="/inserting/">Inserting</a>
                    </li>
                                    <li >
                        <a href="/filtering/">Filtering</a>
                    </li>
                            </ul>
                    <h2>Upgrading Guide</h2>
            <ul>
                                    <li >
                        <a href="/upgrading/">Introduction</a>
                    </li>
                                    <li >
                        <a href="/upgrading/6.0/">5.x to 6.x</a>
                    </li>
                            </ul>
            </menu>
    <article>
        <h1>Overview</h1>

<p>The library is composed of two main classes:</p>

<ul>
<li><code>League\Csv\Reader</code> to query and extract data from a CSV</li>
<li><code>League\Csv\Writer</code> to insert new data into a CSV</li>
</ul>

<p>Both classes extend the <code>League\Csv\AbstractCsv</code> class and as such share methods to instantiate, format and output the CSV.</p>

<h2 id="instantiation">CSV Objects instantiation</h2>

<p>Because CSVs come in different forms there are several ways to instantiate the library CSV objects.
Below you will find <strong>the recommended ways</strong> to create a CSV object.</p>

<h3>createFromString($str)</h3>

<p>If you have a raw CSV string you should use the named constructor <code>createFromString</code>. This method accepts only one single parameter the raw CSV string.</p>

<pre><code class="language-php">use League\Csv\Reader;
use League\Csv\Writer;

$reader = Reader::createFromString('john,doe,john.doe@example.com');
$writer = Writer::createFromString('john,doe,john.doe@example.com');

</code></pre>

<h3>createFromFileObject(SplFileObject $obj) <em>- since version 6.0</em></h3>

<p>If you have a <code>SplFileObject</code> and you want to directly work with it you should use the named constructor <code>createFromFileObject</code>. This method accepts only one single parameter the <code>SplFileObject</code> object.</p>

<pre><code class="language-php">use League\Csv\Reader;
use League\Csv\Writer;

$reader = Reader::createFromFileObject(new SplFileObject('/path/to/your/csv/file.csv'));
$writer = Writer::createFromFileObject(new SplTempFileObject);

</code></pre>

<h3>createFromPath($path, $open_mode) <em>- since version 6.0</em></h3>

<p>For any other purpose you should rely on the named constructor <code>createFromPath</code>. You will be instantiating a CSV object <em>Ã  la</em> <code>fopen</code>:</p>

<ul>
<li>The <code>$path</code> parameter can be:

<ul>
<li>a <code>SplFileInfo</code> object, the string path will be fetch from the object public methods. </li>
<li>an object implementing the <code>__toString</code> method the path will be the object string representation.</li>
<li>a string.</li>
</ul></li>
</ul>

<p class="message-warning"><strong>Warning:</strong> The method throws an <code>InvalidArgumentException</code> if a <code>SplTempFileObject</code> is given as no path can be retrieve from such object.</p>

<ul>
<li>This <code>$open_mode</code> parameter is <strong>always</strong> take into account and defaults to <code>r+</code> if none is supplied. </li>
</ul>

<p>The resulting string and <code>$open_mode</code> parameters are used to lazy load internally a <code>SplFileObject</code> object.</p>

<pre><code class="language-php">use League\Csv\Reader;
use League\Csv\Writer;

$reader = Reader::createFromPath('/path/to/your/csv/file.csv');
//the $reader object open mode will be 'r+' as no open_mode parameter was given !!
$writer = Writer::createFromPath(new SplFileObject('/path/to/your/csv/file.csv', 'a+'), 'w');
//the $writer object open mode will be 'w'!!
</code></pre>

<h3>Default Constructors</h3>

<p>For backward compatibility you can still directly instantiate your CSV object with the constructor. The constructor takes 2 parameters:</p>

<ul>
<li>A <code>$path</code> which can be a <code>SplFileInfo</code>, an object that implements the <code>__toString</code> method or a string;</li>
<li>A <code>$open_mode</code> which is ignore if you instantiate your object with a <code>SplFileObject</code>;</li>
</ul>

<pre><code class="language-php">use League\Csv\Reader;
use League\Csv\Writer;

$reader = new Reader(new SplFileObject('/path/to/your/csv/file.csv'), 'wb'); 
// the $open_mode parameter is not taken into account
$writer = new Writer(new SplTempFileObject);
//in both case the object is directly used internally by the library

</code></pre>

<p>When using an object other than <code>SplFileObject</code> with the default class constructor, the library uses lazyloading.</p>

<h2>CSV properties settings</h2>

<p>Once your object is created you can optionally set:</p>

<ul>
<li>the CSV delimiter;</li>
<li>the CSV enclosure;</li>
<li>the CSV escape characters;</li>
<li>the object <code>SplFileObject</code> flags;</li>
</ul>

<pre><code class="language-php">$reader = Reader::createFromPath('/path/to/your/csv/file.csv');

$reader-&gt;setDelimiter(',');
$reader-&gt;setEnclosure('"');
$reader-&gt;setEscape('\\');
$reader-&gt;setFlags(SplFileObject::READ_AHEAD|SplFileObject::SKIP_EMPTY);
</code></pre>

<h3>detectDelimiterList($nbRows = 1, array $delimiters = []) <em>- since version 6.0</em></h3>

<p class="message-warning"><strong>BC Break:</strong> the <code>detectDelimiterList</code> method replaces the removed method <code>detectDelimiter</code> !</p>

<p>If you are no sure about the delimiter you can ask the library to detect it for you using the <code>detectDelimiterList</code> method. <strong>This method will only give you a hint</strong>.</p>

<p>The method takes two arguments:</p>

<ul>
<li>the number of rows to scan (default to <code>1</code>);</li>
<li>the possible delimiters to check (you don't need to specify the following delimiters as they are already checked by the method: <code>",", ";", "\t"</code>);</li>
</ul>

<pre><code class="language-php">$reader = Reader::createFromPath('/path/to/your/csv/file.csv');

$reader-&gt;setEnclosure('"');
$reader-&gt;setEscape('\\');
$reader-&gt;setFlags(SplFileObject::READ_AHEAD|SplFileObject::SKIP_EMPTY);

$delimiters_list = $reader-&gt;detectDelimiterList(10, [' ', '|']);
</code></pre>

<p>The more rows and delimiters you add, the more time and memory consuming the operation will be. The method returns an <code>array</code> of the delimiters found.</p>

<ul>
<li>If a single delimiter is found the array will contain only one delimiter;</li>
<li>If multiple delimiters are found the array will contain the found delimiters sorted descendingly according to their occurences in the defined rows set;</li>
<li>If no delimiter is found or your CSV is composed of a single column, the array will be empty;</li>
</ul>

<h2>Switching from one class to the other</h2>

<p class="message-warning"><strong>BC Break:</strong> the <code>League\Csv\Reader::getWriter</code> and <code>League\Csv\Writer::getReader</code>methods are removed in favor of the new methods that are available on both classes.</p>

<p>At any given time you can switch or create a new <code>League\Csv\Writer</code> or a new <code>League\Csv\Reader</code> from the current object. to do so you can use the following methods.</p>

<ul>
<li>the <code>newReader</code> to create a new <code>League\Csv\Reader</code> object;</li>
<li>the <code>newWriter</code> to create a new <code>League\Csv\Writer</code> object;</li>
</ul>

<p>Both methods accept an optional <code>$open_mode</code> parameter.</p>

<ul>
<li>When not explicitly set, the <code>$open_mode</code> default value is <code>r+</code> for both methods.</li>
<li>If the initial object <code>$open_mode</code> parameter was not taken into account any new CSV object created with these methods won't take into account the given <code>$open_mode</code>.</li>
</ul>

<pre><code class="language-php">$reader = $writer-&gt;newReader('r+');
$newWriter = $reader-&gt;newWriter('a'); 
$anotherWriter = $newWriter-&gt;newWriter('r+'); 
</code></pre>

<p class="message-warning"><strong>Warning:</strong> be careful the <code>$newWriter</code> and <code>$anotherWriter</code> object are not the same as the <code>$writer</code> object!</p>
    </article>
</main>

<footer>
    <span>&copy; Copyright The League of Extraordinary Packages.</span>
    <span>Site design by <a href="http://reinink.ca">Jonathan Reinink</a>.</span>
    <span>Powered by <a href="https://sculpin.io">Sculpin</a>.</span>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="/themes/thephpleague/thephpleague.github.com/js/scripts.js"></script>
<script src="/themes/thephpleague/thephpleague.github.com/js/prism.js"></script>

    <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src='//www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
        ga('create','UA-46050814-6');ga('send','pageview');
    </script>

</body>
</html>